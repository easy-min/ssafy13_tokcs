<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>{% block title %}tokCS Admin{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet">
    <style>
      body {
        background-color: #f0f2f5;
        font-family: 'Noto Sans KR', sans-serif;
      }
      .admin-topbar {
        background-color: #4a90e2;
        color: #fff;
        padding: 15px 30px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
      }
      .admin-logo {
        font-size: 24px;
        font-weight: 700;
      }
      .admin-userinfo {
        font-size: 16px;
      }
      .admin-sidebar {
        background-color: #fff;
        min-height: 100vh;
        padding: 20px;
        border-right: 1px solid #ddd;
      }
      .admin-sidebar a {
        color: #555;
        text-decoration: none;
        padding: 10px 15px;
        display: block;
        border-radius: 5px;
        margin-bottom: 10px;
        transition: background-color 0.2s ease;
      }
      .admin-sidebar a:hover,
      .admin-sidebar a.active {
        background-color: #e6f0fa;
        color: #4a90e2;
      }
      .admin-content {
        padding: 20px;
      }
      .admin-container {
        margin-top: 75px; /* 상단 바 높이 + 여백 */
      }
    </style>
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <!-- 상단 바 -->
    <div class="admin-topbar d-flex justify-content-between align-items-center">
      <div class="admin-logo">tokCS Admin</div>
      <div class="admin-userinfo">
        {% if user.is_authenticated %}
          {{ user.username }} 님
        {% else %}
          비로그인 사용자
        {% endif %}
      </div>
    </div>
    <div class="container-fluid admin-container">
      <div class="row">
        <!-- 좌측 사이드바 -->
        <div class="col-md-2 admin-sidebar">
          <a href="{% url 'admin_dashboard' %}" class="{% if request.path == '/admin/dashboard/' %}active{% endif %}">대시보드</a>
          <a href="{% url 'admin_quizset_create' %}" class="{% if request.path == '/admin/quizset/create/' %}active{% endif %}">문제 셋 생성</a>
          <a href="{% url 'admin_problem_manage' %}">문제 관리</a>
          <a href="{% url 'admin_submission_manage' %}">제출/채점 관리</a>
        </div>
        <!-- 메인 컨텐츠 영역 -->
        <div class="col-md-10 admin-content">
          {% block content %}{% endblock %}
        </div>
      </div>
    </div>
    {% block extra_js %}{% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
